<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard</title>
  <link rel="stylesheet" href="assets/style.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lucide/dist/lucide.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/iconoir-icons/iconoir@main/css/iconoir.css" />
  <link href="https://fonts.cdnfonts.com/css/neue-haas-grotesk-display-pro?styles=23457,23459,23461" rel="stylesheet">
</head>
<body>
  
  <div class="container">
    <h1 class="title">WELCOME, [NAME]</h1>

    <div class="grid">
      
      <aside class="sidebar">
        <div class="card status-card">
          <h2>Status of Applications</h2>
          <div class="applications">
            <div class="status-item custom-status-list">
              <div>
                <p class="label">Applications Submitted</p>
                <p class="status-sub">Since last 30 days</p>
              </div>
              <p class="number">42</p>
            </div>
            <div class="status-list">
              <div class="status-item success">
                <div>
                  <p class="status-label">Approved</p>
                  <p class="status-sub">Since last 30 days</p>
                </div>
                <p class="status-number">25</p>
              </div>
              <div class="status-item info">
                <div>
                  <p class="status-label">Awaiting Acknowledgment</p>
                  <p class="status-sub">Since last 30 days</p>
                </div>
                <p class="status-number">08</p>
              </div>
              <div class="status-item destructive">
                <div>
                  <p class="status-label">Denied</p>
                  <p class="status-sub">Since last 30 days</p>
                </div>
                <p class="status-number">06</p>
              </div>
              <div class="status-item warning">
                <div>
                  <p class="status-label">Follow-Up Required</p>
                  <p class="status-sub">Since last 30 days</p>
                </div>
                <p class="status-number">03</p>
              </div>
            </div>
          </div>
        </div>

        <div class="card activity-card">
          <h2>BHSD Activity Log</h2>
          <div class="activity-list">
            <div class="activity">
              <div class="dot"></div>
              <div class="activity-log">
                <p class="date">Oct 8, 2024 - 6:04 PM</p>
                <p class="text">Document viewed by Phil Huston - kim.rogge.rogers@gmail.com (viewed)</p>
                <p class="status"> <i>Status: <span> Viewed successfully.</span></i></p>
              </div>
            </div>
            <div class="activity">
              <div class="dot"></div>
              <div class="activity-log">
                <p class="date">Oct 8, 2024 - 5:48 PM</p>
                <p class="text">Document viewed by Phil Huston - kim.rogge.rogers@gmail.com (viewed)</p>
                <p class="status"> <i>Status: <span> Viewed successfully.</span></i></p>
              </div>
            </div>
            </div>
        </div>
      </aside>

      <main class="main-content">
        <div class="card main-card">
          
          <div class="tabs">
            <button class="tab active" onclick="filterTabs(event, 'all')"><i class="fa-solid fa-eye"></i> View All</button>
            <button class="tab" onclick="filterTabs(event, 'AARTC')">AARTC</button>
            <button class="tab" onclick="filterTabs(event, 'ACT')">ACT</button>
            <button class="tab" onclick="filterTabs(event, 'CCBHC')">CCBHC</button>
            <button class="tab" onclick="filterTabs(event, 'CCSS')">CCSS</button>
            <button class="tab" onclick="filterTabs(event, 'IOP')">IOP</button>
            <button class="tab" onclick="filterTabs(event, 'MCT')">MCT</button>
            <button class="tab" onclick="filterTabs(event, 'OPRE')">OPRE</button>
            <button class="tab" onclick="filterTabs(event, 'PSR')">PSR</button>
          </div>
          
          <div class="providers-list">
            <h2>Providers Lists</h2>
          </div>

          <d<div class="filters">
            <div class="filter">
              <i class="iconoir iconoir-filter-alt"></i>
            </div>
          
            <div class="select-wrapper custom-wrapper">
              <select id="sortSelect" onchange="applyFilters()">
                <option value="newest">Most Recent</option>
                <option value="oldest">Oldest</option>
              </select>
              <i class="fa-solid fa-chevron-down dropdown-icon"></i>
            </div>
          
            <div class="select-wrapper">
              <select id="statusSelect" onchange="applyFilters()">
                <option value="all">All Status</option>
                <option value="approved">Approved</option>
                <option value="acknowledged">Acknowledged</option>
                <option value="denied">Denied</option>
                <option value="follow-up">Follow-up</option>
              </select>
              <i class="fa-solid fa-chevron-down dropdown-icon"></i>
            </div>
          
            <div class="select-wrapper">
              <select id="typeSelect" onchange="applyFilters()">
                <option value="all">All Types</option>
                <option value="CCSS">CCSS</option>
                <option value="AARTC">AARTC</option>
                <option value="ACT">ACT</option>
                <option value="CCBHC">CCBHC</option>
                <option value="IOP">IOP</option>
                <option value="MCT">MCT</option>
                <option value="OPRE">OPRE</option>
                <option value="PSR">PSR</option>
              </select>
              <i class="fa-solid fa-chevron-down dropdown-icon"></i>
            </div>
          
            <button class="reset" onclick="resetFilters()">
              <i class="fa-solid fa-rotate-left"></i> Reset Filter
            </button>
          </div>
          
          <div class="table-container">
            <table id="applicationTable">
              <thead>
                <tr>
                  <th>Agency</th>
                  <th>Type</th>
                  <th>Contact Name</th>
                  <th>Email</th>
                  <th>Date Submitted</th>
                  <th>Status</th>
                  <th>Time Trigger</th>
                </tr>
              </thead>
              <tbody id="tableBody"> 
                <tr data-type="CCSS">
                  <td><a href="pages/application.html">A Path With Heart Counseling</a></td>
                  <td>CCSS</td>
                  <td>Malik Johnson</td>
                  <td>malik.j@pathheart.com</td>
                  <td>Oct 14, 2025</td>
                  <td><span class="badge success">Approved</span></td>
                  <td>5 days left</td>
                </tr>
                <tr data-type="CCSS">
                  <td><a href="#">ReyaCare Foundation</a></td>
                  <td>CCSS</td>
                  <td>Sarah Smith</td>
                  <td>sarah.s@reyacare.org</td>
                  <td>Oct 12, 2025</td>
                  <td><span class="badge info">Acknowledged</span></td>
                  <td>7 days left</td>
                </tr>
                <tr data-type="AARTC">
                  <td><a href="#">Sunrise Recovery Center</a></td>
                  <td>AARTC</td>
                  <td>John Doe</td>
                  <td>j.doe@sunriserecovery.com</td>
                  <td>Nov 01, 2025</td>
                  <td><span class="badge warning">Follow-up</span></td>
                  <td>12 days left</td>
                </tr>
                <tr data-type="AARTC">
                  <td><a href="#">New Hope Detox</a></td>
                  <td>AARTC</td>
                  <td>Emily White</td>
                  <td>emily.w@newhopedetox.org</td>
                  <td>Oct 28, 2025</td>
                  <td><span class="badge destructive">Denied</span></td>
                  <td>0 days left</td>
                </tr>
                <tr data-type="ACT">
                  <td><a href="#">Community Health First</a></td>
                  <td>ACT</td>
                  <td>Michael Brown</td>
                  <td>m.brown@commhealth.org</td>
                  <td>Oct 20, 2025</td>
                  <td><span class="badge success">Approved</span></td>
                  <td>2 days left</td>
                </tr>
                <tr data-type="CCBHC">
                  <td><a href="#">Integrated Wellness Group</a></td>
                  <td>CCBHC</td>
                  <td>Jessica Davis</td>
                  <td>jessica.d@integratedwell.com</td>
                  <td>Nov 05, 2025</td>
                  <td><span class="badge info">Acknowledged</span></td>
                  <td>15 days left</td>
                </tr>
                <tr data-type="IOP">
                  <td><a href="#">Serenity Intensive Care</a></td>
                  <td>IOP</td>
                  <td>Linda Martinez</td>
                  <td>linda.m@serenitycare.com</td>
                  <td>Oct 15, 2025</td>
                  <td><span class="badge destructive">Denied</span></td>
                  <td>Expired</td>
                </tr>
                <tr data-type="PSR">
                  <td><a href="#">BrightCare Foundation</a></td>
                  <td>PSR</td>
                  <td>Nancy Hall</td>
                  <td>nancy.h@brightcare.org</td>
                  <td>Oct 14, 2025</td>
                  <td><span class="badge warning">Follow-up</span></td>
                  <td>5 days left</td>
                </tr>
              </tbody>
            </table>
          </div>

        </div>
        
        <nav class="pagination-container" aria-label="Page navigation">
          <ul class="pagination">
            <li class="page-item "><a href="#">&laquo;</a></li>
            <li class="page-item active"><a href="#">1</a></li>
            <li class="page-item"><a href="#">2</a></li>
            <li class="page-item"><a href="#">3</a></li>
            <li class="page-item"><a href="#">4</a></li>
            <li class="page-item"><a href="#">5</a></li>
            <li class="page-item"><a href="#">&raquo;</a></li>
          </ul>
        </nav>
        
      </main>
    </div>
  </div>

















  
  <script>
    // State variable to track which Tab is currently active
    let currentActiveTab = 'all';
  
    // --- 1. RUN ON PAGE LOAD (This fixes the "Before" part) ---
    document.addEventListener('DOMContentLoaded', function() {
      // This runs the master filter immediately so colors appear right away
      applyFilters();
    });
  
    // --- 2. Tab Click Logic ---
    function filterTabs(event, category) {
      // Update Visual Tabs
      var tabs = document.getElementsByClassName("tab");
      for (var i = 0; i < tabs.length; i++) {
        tabs[i].className = tabs[i].className.replace(" active", "");
      }
      event.currentTarget.className += " active";
  
      // Update State & Run Filter
      currentActiveTab = category;
      applyFilters();
    }
  
    // --- 3. Master Filter (Shows/Hides Rows) ---
    function applyFilters() {
      const statusFilter = document.getElementById('statusSelect').value.toLowerCase();
      const typeFilter = document.getElementById('typeSelect').value;
      
      const tableBody = document.getElementById('tableBody');
      const rows = Array.from(tableBody.getElementsByTagName('tr'));
  
      rows.forEach(row => {
        // A. Data Type Check
        const rowType = row.getAttribute('data-type');
        const tabMatch = (currentActiveTab === 'all' || rowType === currentActiveTab);
  
        // B. Status Badge Check
        const badge = row.querySelector('.badge');
        const badgeText = badge ? badge.innerText.toLowerCase() : '';
        const statusMatch = (statusFilter === 'all' || badgeText.includes(statusFilter));
  
        // C. Dropdown Type Check
        const typeMatch = (typeFilter === 'all' || rowType === typeFilter);
  
        // Apply Display Logic
        if (tabMatch && statusMatch && typeMatch) {
          row.style.display = ""; // Show
        } else {
          row.style.display = "none"; // Hide
        }
      });
  
      // Trigger Sort (which will then Trigger Color Repaint)
      sortRows();
    }
  
    // --- 4. Sorting Logic ---
    function sortRows() {
      const sortValue = document.getElementById('sortSelect').value;
      const tableBody = document.getElementById('tableBody');
      const rows = Array.from(tableBody.getElementsByTagName('tr'));
  
      // Sort the rows in memory
      rows.sort((a, b) => {
        // Assuming Date is in the 5th column (index 4)
        const dateA = new Date(a.cells[4].innerText);
        const dateB = new Date(b.cells[4].innerText);
  
        if (sortValue === 'newest') {
          return dateB - dateA; 
        } else {
          return dateA - dateB; 
        }
      });
  
      // Put sorted rows back into the table
      rows.forEach(row => tableBody.appendChild(row));
  
      // *** CRITICAL: Repaint the colors AFTER sorting is done ***
      reapplyStriping();
    }
  
    // --- 5. Striping Logic (The "Paint" Brush) ---
    function reapplyStriping() {
      const tableBody = document.getElementById('tableBody');
      const rows = Array.from(tableBody.getElementsByTagName('tr'));
      
      let visibleCount = 0; // Only count what the user can see
  
      rows.forEach(row => {
        if (row.style.display !== 'none') {
          // If the counter is ODD (1, 3, 5...), make it Gray
          if (visibleCount % 2 !== 0) {
            row.classList.add('highlight-row');
          } else {
            // If the counter is EVEN (0, 2, 4...), make it White
            row.classList.remove('highlight-row');
          }
          visibleCount++;
        }
      });
    }
  
    // --- 6. Reset Button ---
    function resetFilters() {
      document.getElementById('statusSelect').value = 'all';
      document.getElementById('typeSelect').value = 'all';
      document.getElementById('sortSelect').value = 'newest';
      
      const tabs = document.getElementsByClassName("tab");
      for (var i = 0; i < tabs.length; i++) {
        tabs[i].className = tabs[i].className.replace(" active", "");
      }
      tabs[0].className += " active";
      currentActiveTab = 'all';
  
      applyFilters();
    }
  </script> 
</body>
</html>